<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Vue formulaire du dashboard -->
    <record id="view_workflow_dashboard_form" model="ir.ui.view">
        <field name="name">workflow.dashboard.form</field>
        <field name="model">workflow.dashboard</field>
        <field name="arch" type="xml">
            <form string="Tableau de bord" create="false" edit="false" delete="false">
                <sheet>
                    <field name="page" invisible="1"/>
                    <field name="mode" invisible="1"/>

                    <!-- Bouton de bascule vers le dashboard Courrier (visible uniquement en mode crÃ©dit) -->
                    <div style="margin-bottom: 8px;" invisible="mode != 'credit'">
                        <button name="action_switch_to_courrier"
                                string="ðŸ“¬ Tableau de bord Courrier"
                                type="object"
                                class="btn btn-primary"/>
                    </div>

                    <!-- Bouton de bascule vers le dashboard CrÃ©dit (visible uniquement en mode courrier) -->
                    <div style="margin-bottom: 8px;" invisible="mode != 'courrier'">
                        <button name="action_switch_to_credit"
                                string="ðŸ’³ Tableau de bord CrÃ©dit"
                                type="object"
                                class="btn btn-success"/>
                    </div>

                    <field name="stats_html" nolabel="1" widget="html"/>

                    <!-- Pagination -->
                    <div style="display: flex; justify-content: center; align-items: center; gap: 16px; padding: 20px 0;">
                        <button name="action_previous_page" string="â—€ PrÃ©cÃ©dent" type="object"
                                class="btn btn-secondary"
                                invisible="page &lt;= 1"/>
                        <button name="action_next_page" string="Suivant â–¶" type="object"
                                class="btn btn-primary"/>
                    </div>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Action pour ouvrir le dashboard -->
    <record id="action_workflow_dashboard_server" model="ir.actions.server">
        <field name="name">Tableau de bord</field>
        <field name="model_id" ref="model_workflow_dashboard"/>
        <field name="state">code</field>
        <field name="code">action = model.action_open_dashboard()</field>
    </record>

    <!-- Action pour ouvrir le dashboard Courrier -->
    <record id="action_workflow_dashboard_courrier" model="ir.actions.server">
        <field name="name">Tableau de bord Courrier</field>
        <field name="model_id" ref="model_workflow_dashboard"/>
        <field name="state">code</field>
        <field name="code">action = model.action_open_dashboard(mode='courrier')</field>
    </record>
</odoo>
